{% extends 'base.html.twig' %}

{% block title %}Comptes utilisateurs
{% endblock %}

{% block body %}

	<div class="container-fluid">

		<nav aria-label="breadcrumb">
			<ol class="breadcrumb">
				<li class="breadcrumb-item active" aria-current="page">
					<a href="{{ path('AdminDasboard.index') }}">Gestion</a>
				</li>
				<li class="breadcrumb-item active" aria-current="page">User</li>
			</ol>
		</nav>

		<h1 class="h1 my-3">Gestions des utilisateurs</h1>
		<a href="{{ path('AdminUser.add') }}" class="btn btn-success my-5">
			<i class="fas fa-plus-circle"></i>
		</a>

		<table class="table table-hover">
			<thead>
				<tr>
					<th>Id</th>
					<th>Email</th>
					<th>Nom complet</th>
					<th>RÃ´le</th>
					<th class="text-center">Action</th>
				</tr>
			</thead>
			<tbody>
				{% for user in paginator.data %}

					{% if user.present == presence %}

						<tr>
							<td>{{ user.idUser }}</td>
							<td>{{ user.mail }}</td>
							<td>{{ user.fullName }}</td>
							<td>{{ user.roles[0]}}</td>
							<td class="text-center">
								<a href="{{ path('AdminUser.edit', {'id' : user.idUser}) }}" class="btn btn-primary mr-2">
									<i class="fas fa-edit"></i>
								</a>
								<a href="{{ path('AdminUser.delete', {'id' : user.idUser}) }}" class="btn btn-danger ml-2">
									<i class="fas fa-trash"></i>
								</a>
							</td>
						</tr>
					{% endif %}
				{% endfor %}
			</tbody>
		</table>

		{{ paginator.display }}
	</div>

{% endblock %}
